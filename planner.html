<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="2025 Input Planner - Irrigated and Dryland Corn Profitability Calculator">
    <title>2025 Input Planner | YourAgInfo.com</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Source+Serif+4:wght@400;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        .planner-hero {
            padding: 120px 0 40px;
            background: linear-gradient(160deg, var(--green-dark) 0%, var(--green-medium) 100%);
            text-align: center;
        }
        .planner-hero h1 {
            font-size: clamp(28px, 5vw, 40px);
            color: var(--white);
            margin-bottom: 8px;
        }
        .planner-hero p {
            font-size: 16px;
            color: rgba(255,255,255,0.7);
            max-width: 500px;
            margin: 0 auto;
        }

        .planner-main { padding: 40px 0 80px; background: var(--gray-50); }

        /* Price Control */
        .price-control {
            background: var(--white);
            border: 2px solid var(--green-dark);
            border-radius: 12px;
            padding: 28px 36px;
            margin-bottom: 32px;
            text-align: center;
        }
        .price-control h2 {
            font-size: 16px;
            color: var(--gray-600);
            margin-bottom: 16px;
            font-weight: 600;
        }
        .price-display {
            font-family: var(--font-heading);
            font-size: 48px;
            font-weight: 700;
            color: var(--green-dark);
            margin-bottom: 12px;
        }
        .price-slider {
            width: 100%;
            max-width: 500px;
            height: 8px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--gray-200);
            border-radius: 4px;
            outline: none;
        }
        .price-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 24px;
            height: 24px;
            background: var(--green-dark);
            border-radius: 50%;
            cursor: pointer;
        }
        .price-range {
            display: flex;
            justify-content: space-between;
            max-width: 500px;
            margin: 8px auto 0;
            font-size: 12px;
            color: var(--gray-400);
        }

        /* Two Column Layout */
        .calc-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 28px;
            margin-bottom: 32px;
        }

        .calc-panel {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            overflow: hidden;
        }
        .calc-panel-header {
            padding: 20px 24px;
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .calc-panel-header.irrigated {
            background: linear-gradient(135deg, #1a5f2a, #2d8a4e);
        }
        .calc-panel-header.dryland {
            background: linear-gradient(135deg, #8b6914, #b8941e);
        }
        .calc-panel-header h2 { font-size: 20px; margin: 0; }
        .calc-panel-header .total-cost {
            font-size: 14px;
            opacity: 0.85;
        }
        .calc-panel-header .total-cost strong {
            font-size: 22px;
            display: block;
        }

        /* Yield Control */
        .yield-control {
            padding: 16px 24px;
            background: var(--gray-50);
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            align-items: center;
            gap: 16px;
        }
        .yield-control label {
            font-size: 13px;
            font-weight: 600;
            color: var(--gray-600);
            white-space: nowrap;
        }
        .yield-slider {
            flex: 1;
            height: 6px;
            -webkit-appearance: none;
            appearance: none;
            background: var(--gray-200);
            border-radius: 3px;
            outline: none;
        }
        .yield-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            background: var(--green-dark);
            border-radius: 50%;
            cursor: pointer;
        }
        .yield-value {
            font-family: var(--font-heading);
            font-size: 20px;
            font-weight: 700;
            color: var(--green-dark);
            min-width: 80px;
            text-align: right;
        }

        /* Cost Table */
        .cost-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 14px;
        }
        .cost-table th {
            text-align: left;
            padding: 10px 24px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--gray-400);
            border-bottom: 1px solid var(--gray-200);
        }
        .cost-table td {
            padding: 9px 24px;
            border-bottom: 1px solid var(--gray-100);
        }
        .cost-table td:last-child {
            text-align: right;
            font-family: 'Inter', sans-serif;
            font-weight: 500;
        }
        .cost-table .section-label td {
            padding: 12px 24px 6px;
            font-weight: 700;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--gray-500);
            background: var(--gray-50);
            border-bottom: 1px solid var(--gray-200);
        }
        .cost-table .subtotal td {
            font-weight: 700;
            border-top: 2px solid var(--gray-300);
            padding-top: 10px;
        }

        /* Profitability Results */
        .profit-results {
            padding: 20px 24px;
            background: var(--gray-50);
            border-top: 2px solid var(--gray-200);
        }
        .profit-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 16px;
        }
        .profit-item {
            text-align: center;
            padding: 12px;
            background: var(--white);
            border-radius: 8px;
        }
        .profit-label {
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--gray-500);
            margin-bottom: 4px;
        }
        .profit-value {
            font-family: var(--font-heading);
            font-size: 22px;
            font-weight: 700;
        }
        .profit-value.positive { color: #16a34a; }
        .profit-value.negative { color: #dc2626; }
        .profit-value.neutral { color: var(--gray-600); }
        .profit-detail {
            font-size: 11px;
            color: var(--gray-400);
            margin-top: 2px;
        }

        /* Sensitivity Table */
        .sensitivity {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            padding: 28px 36px;
            margin-bottom: 32px;
        }
        .sensitivity h2 {
            font-size: 18px;
            margin-bottom: 20px;
            color: var(--gray-700);
        }
        .sens-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 28px;
        }
        .sens-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 13px;
        }
        .sens-table caption {
            text-align: left;
            font-weight: 700;
            font-size: 14px;
            color: var(--gray-700);
            margin-bottom: 8px;
            caption-side: top;
        }
        .sens-table th, .sens-table td {
            padding: 8px 12px;
            text-align: center;
            border: 1px solid var(--gray-200);
        }
        .sens-table th {
            background: var(--gray-50);
            font-weight: 600;
            font-size: 12px;
            color: var(--gray-600);
        }
        .sens-table th:first-child { text-align: left; }
        .sens-table td:first-child {
            text-align: left;
            font-weight: 600;
            background: var(--gray-50);
        }
        .sens-positive { color: #16a34a; font-weight: 600; }
        .sens-negative { color: #dc2626; }

        /* Notes */
        .cost-notes {
            background: var(--white);
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            padding: 24px 36px;
        }
        .cost-notes h3 {
            font-size: 14px;
            color: var(--gray-600);
            margin-bottom: 12px;
        }
        .cost-notes ul {
            list-style: none;
            padding: 0;
            margin: 0;
            font-size: 13px;
            color: var(--gray-500);
            line-height: 1.8;
        }
        .cost-notes li::before {
            content: '\2022';
            color: var(--gray-300);
            margin-right: 8px;
        }

        @media (max-width: 900px) {
            .calc-grid { grid-template-columns: 1fr; }
            .sens-grid { grid-template-columns: 1fr; }
            .profit-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <script src="js/auth.js"></script>

    <nav class="navbar">
        <div class="container">
            <a href="index.html" class="logo">
                <span class="logo-text">YourAgInfo</span>
                <span class="logo-divider"></span>
                <span class="logo-subtitle">McConnell Enterprises</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="members.html" class="nav-login">Member Dashboard</a></li>
            </ul>
        </div>
    </nav>

    <header class="planner-hero">
        <div class="container">
            <h1>2025 Input Planner</h1>
            <p>Slide the price and yield to find where profitability hits for irrigated and dryland corn.</p>
        </div>
    </header>

    <main class="planner-main">
        <div class="container">

            <!-- Corn Price Slider -->
            <div class="price-control">
                <h2>2025 Corn Price Assumption</h2>
                <div class="price-display" id="priceDisplay">$4.40/bu</div>
                <input type="range" class="price-slider" id="cornPrice" min="3.00" max="7.50" step="0.05" value="4.40">
                <div class="price-range">
                    <span>$3.00</span>
                    <span>$7.50</span>
                </div>
            </div>

            <!-- Irrigated / Dryland Side by Side -->
            <div class="calc-grid">

                <!-- IRRIGATED CORN -->
                <div class="calc-panel">
                    <div class="calc-panel-header irrigated">
                        <h2>Irrigated Corn</h2>
                        <div class="total-cost">Total Cost<strong id="irrTotalDisplay">$1,049/ac</strong></div>
                    </div>
                    <div class="yield-control">
                        <label>Yield:</label>
                        <input type="range" class="yield-slider" id="irrYield" min="120" max="280" step="5" value="200">
                        <span class="yield-value" id="irrYieldDisplay">200 bu/ac</span>
                    </div>
                    <table class="cost-table">
                        <tr class="section-label"><td colspan="2">Operations</td></tr>
                        <tr><td>Disk (x2)</td><td>$35.00</td></tr>
                        <tr><td>Strip Till</td><td>$26.00</td></tr>
                        <tr><td>Plant</td><td>$35.00</td></tr>
                        <tr><td>Spray (3 passes)</td><td>$37.50</td></tr>
                        <tr><td>Harvest</td><td>$66.25</td></tr>
                        <tr><td>Grain Cart</td><td>$17.75</td></tr>
                        <tr><td>Hauling</td><td>$8.00</td></tr>
                        <tr class="section-label"><td colspan="2">Inputs</td></tr>
                        <tr><td>Seed (Pioneer, 34k pop)</td><td>$138.13</td></tr>
                        <tr><td>Fertilizer (220N-40P-25S)</td><td>$174.75</td></tr>
                        <tr><td>Chemicals (3-pass)</td><td>$44.81</td></tr>
                        <tr class="section-label"><td colspan="2">Irrigation</td></tr>
                        <tr><td>Pumping (12" @ $6.50)</td><td>$78.00</td></tr>
                        <tr><td>Repairs</td><td>$15.00</td></tr>
                        <tr><td>Labor</td><td>$10.00</td></tr>
                        <tr class="section-label"><td colspan="2">Overhead</td></tr>
                        <tr><td>Crop Insurance</td><td>$35.00</td></tr>
                        <tr><td>Land (Cash Rent)</td><td>$275.00</td></tr>
                        <tr><td>Miscellaneous</td><td>$10.00</td></tr>
                        <tr><td>Operating Interest (8.5%)</td><td>$42.76</td></tr>
                        <tr class="subtotal"><td>Total Cost / Acre</td><td id="irrCostPerAcre">$1,048.95</td></tr>
                    </table>
                    <div class="profit-results">
                        <div class="profit-grid">
                            <div class="profit-item">
                                <div class="profit-label">Breakeven Price</div>
                                <div class="profit-value neutral" id="irrBreakevenPrice">$5.24/bu</div>
                            </div>
                            <div class="profit-item">
                                <div class="profit-label">Revenue/Acre</div>
                                <div class="profit-value neutral" id="irrRevenue">$880</div>
                            </div>
                            <div class="profit-item">
                                <div class="profit-label">Net Return/Acre</div>
                                <div class="profit-value negative" id="irrNet">-$169</div>
                                <div class="profit-detail" id="irrNetDetail">below breakeven</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- DRYLAND CORN -->
                <div class="calc-panel">
                    <div class="calc-panel-header dryland">
                        <h2>Dryland Corn</h2>
                        <div class="total-cost">Total Cost<strong id="dryTotalDisplay">$487/ac</strong></div>
                    </div>
                    <div class="yield-control">
                        <label>Yield:</label>
                        <input type="range" class="yield-slider" id="dryYield" min="30" max="160" step="5" value="80">
                        <span class="yield-value" id="dryYieldDisplay">80 bu/ac</span>
                    </div>
                    <table class="cost-table">
                        <tr class="section-label"><td colspan="2">Operations</td></tr>
                        <tr><td>Disk (x2)</td><td>$35.00</td></tr>
                        <tr><td>Plant</td><td>$35.00</td></tr>
                        <tr><td>Spray (2 passes)</td><td>$25.00</td></tr>
                        <tr><td>Harvest</td><td>$66.25</td></tr>
                        <tr><td>Grain Cart</td><td>$17.75</td></tr>
                        <tr><td>Hauling</td><td>$3.20</td></tr>
                        <tr class="section-label"><td colspan="2">Inputs</td></tr>
                        <tr><td>Seed (Pioneer, 22k pop)</td><td>$85.25</td></tr>
                        <tr><td>Fertilizer (80N-25P-15S)</td><td>$86.03</td></tr>
                        <tr><td>Chemicals (2-pass)</td><td>$27.00</td></tr>
                        <tr class="section-label"><td colspan="2">Overhead</td></tr>
                        <tr><td>Crop Insurance</td><td>$22.00</td></tr>
                        <tr><td>Land (Cash Rent)</td><td>$55.00</td></tr>
                        <tr><td>Miscellaneous</td><td>$10.00</td></tr>
                        <tr><td>Operating Interest (8.5%)</td><td>$19.87</td></tr>
                        <tr class="subtotal"><td>Total Cost / Acre</td><td id="dryCostPerAcre">$487.35</td></tr>
                    </table>
                    <div class="profit-results">
                        <div class="profit-grid">
                            <div class="profit-item">
                                <div class="profit-label">Breakeven Price</div>
                                <div class="profit-value neutral" id="dryBreakevenPrice">$6.09/bu</div>
                            </div>
                            <div class="profit-item">
                                <div class="profit-label">Revenue/Acre</div>
                                <div class="profit-value neutral" id="dryRevenue">$352</div>
                            </div>
                            <div class="profit-item">
                                <div class="profit-label">Net Return/Acre</div>
                                <div class="profit-value negative" id="dryNet">-$135</div>
                                <div class="profit-detail" id="dryNetDetail">below breakeven</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Sensitivity Analysis -->
            <div class="sensitivity">
                <h2>Where Does Profitability Hit?</h2>
                <div class="sens-grid">
                    <table class="sens-table" id="irrSensTable">
                        <caption>Irrigated Corn - Net Return/Acre</caption>
                        <thead>
                            <tr>
                                <th>Yield</th>
                                <th id="irrP1"></th>
                                <th id="irrP2"></th>
                                <th id="irrP3"></th>
                                <th id="irrP4"></th>
                            </tr>
                        </thead>
                        <tbody id="irrSensBody"></tbody>
                    </table>
                    <table class="sens-table" id="drySensTable">
                        <caption>Dryland Corn - Net Return/Acre</caption>
                        <thead>
                            <tr>
                                <th>Yield</th>
                                <th id="dryP1"></th>
                                <th id="dryP2"></th>
                                <th id="dryP3"></th>
                                <th id="dryP4"></th>
                            </tr>
                        </thead>
                        <tbody id="drySensBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- Cost Notes -->
            <div class="cost-notes">
                <h3>Cost Assumptions</h3>
                <ul>
                    <li>Operations based on 75% of reported range (Iowa State 2025 / CSU 2024)</li>
                    <li>Fertilizer: Anhydrous @ $825/ton, DAP @ $675/ton, AMS @ $350/ton</li>
                    <li>Chemicals: Valor, Atrazine, Metolachlor, Acetochlor program</li>
                    <li>Irrigation: Electric pivot @ $6.50/acre-inch, 12 inches applied</li>
                    <li>Operating interest at 8.5% for 6 months average balance</li>
                    <li>Prices subject to change. Consider forward contracting when profitable opportunities arise.</li>
                </ul>
            </div>

        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-brand">
                    <span class="logo-text">YourAgInfo</span>
                    <span class="logo-divider"></span>
                    <span class="logo-subtitle">McConnell Enterprises</span>
                </div>
                <p class="footer-location">Haxtun, Colorado</p>
            </div>
            <div class="footer-bottom">
                <p>Copyright 2025 McConnell Enterprises LLC. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        const IRR_COST = 1048.95;
        const DRY_COST = 487.35;

        const priceSlider = document.getElementById('cornPrice');
        const irrYieldSlider = document.getElementById('irrYield');
        const dryYieldSlider = document.getElementById('dryYield');

        function fmt(n) {
            return '$' + Math.abs(n).toLocaleString('en-US', {maximumFractionDigits: 0});
        }

        function calculate() {
            const price = parseFloat(priceSlider.value);
            const irrYield = parseFloat(irrYieldSlider.value);
            const dryYield = parseFloat(dryYieldSlider.value);

            // Display updates
            document.getElementById('priceDisplay').textContent = '$' + price.toFixed(2) + '/bu';
            document.getElementById('irrYieldDisplay').textContent = irrYield + ' bu/ac';
            document.getElementById('dryYieldDisplay').textContent = dryYield + ' bu/ac';

            // Irrigated
            const irrRevenue = irrYield * price;
            const irrNet = irrRevenue - IRR_COST;
            const irrBreakeven = irrYield > 0 ? IRR_COST / irrYield : 0;

            document.getElementById('irrBreakevenPrice').textContent = '$' + irrBreakeven.toFixed(2) + '/bu';
            document.getElementById('irrRevenue').textContent = fmt(irrRevenue);
            document.getElementById('irrNet').textContent = (irrNet < 0 ? '-' : '') + fmt(irrNet);
            document.getElementById('irrNet').className = 'profit-value ' + (irrNet >= 0 ? 'positive' : 'negative');
            document.getElementById('irrNetDetail').textContent = irrNet >= 0 ? 'profitable' : 'below breakeven';

            // Dryland
            const dryRevenue = dryYield * price;
            const dryNet = dryRevenue - DRY_COST;
            const dryBreakeven = dryYield > 0 ? DRY_COST / dryYield : 0;

            document.getElementById('dryBreakevenPrice').textContent = '$' + dryBreakeven.toFixed(2) + '/bu';
            document.getElementById('dryRevenue').textContent = fmt(dryRevenue);
            document.getElementById('dryNet').textContent = (dryNet < 0 ? '-' : '') + fmt(dryNet);
            document.getElementById('dryNet').className = 'profit-value ' + (dryNet >= 0 ? 'positive' : 'negative');
            document.getElementById('dryNetDetail').textContent = dryNet >= 0 ? 'profitable' : 'below breakeven';

            // Sensitivity tables
            buildSensitivity(price);
        }

        function buildSensitivity(basePrice) {
            const prices = [
                Math.max(3.00, basePrice - 0.60),
                Math.max(3.00, basePrice - 0.20),
                basePrice + 0.20,
                basePrice + 0.60
            ];

            // Irrigated yields
            const irrYields = [180, 200, 220, 240, 260];
            // Dryland yields
            const dryYields = [50, 65, 80, 100, 120];

            // Set headers
            for (let i = 0; i < 4; i++) {
                document.getElementById('irrP' + (i+1)).textContent = '@$' + prices[i].toFixed(2);
                document.getElementById('dryP' + (i+1)).textContent = '@$' + prices[i].toFixed(2);
            }

            // Irrigated body
            let irrHTML = '';
            irrYields.forEach(y => {
                irrHTML += '<tr><td>' + y + ' bu/ac</td>';
                prices.forEach(p => {
                    const net = (y * p) - IRR_COST;
                    const cls = net >= 0 ? 'sens-positive' : 'sens-negative';
                    irrHTML += '<td class="' + cls + '">' + (net < 0 ? '-' : '') + fmt(net) + '</td>';
                });
                irrHTML += '</tr>';
            });
            document.getElementById('irrSensBody').innerHTML = irrHTML;

            // Dryland body
            let dryHTML = '';
            dryYields.forEach(y => {
                dryHTML += '<tr><td>' + y + ' bu/ac</td>';
                prices.forEach(p => {
                    const net = (y * p) - DRY_COST;
                    const cls = net >= 0 ? 'sens-positive' : 'sens-negative';
                    dryHTML += '<td class="' + cls + '">' + (net < 0 ? '-' : '') + fmt(net) + '</td>';
                });
                dryHTML += '</tr>';
            });
            document.getElementById('drySensBody').innerHTML = dryHTML;
        }

        // Event listeners
        priceSlider.addEventListener('input', calculate);
        irrYieldSlider.addEventListener('input', calculate);
        dryYieldSlider.addEventListener('input', calculate);

        // Initial calc
        calculate();
    </script>
</body>
</html>
